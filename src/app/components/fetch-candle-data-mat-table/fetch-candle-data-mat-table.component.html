<h2>Candles</h2>
<p> </p>

<p *ngIf="!dataSource"><em>Loading...</em></p>

<!-- <div>
    <app-mat-table 
    [tableData]="dataSource" 
    [tableColumns]="displayedColumns">
</app-mat-table>
</div> -->

<!-- <input matInput (keyup)="onSearchInput($event)" placeholder="Search..."> -->

<app-dropdown-market [market]="market"  (changeMarket)="onMarketChange($event)"></app-dropdown-market>
<span></span>
<app-dropdown-granularity [granularity]="granularity" (changeGranularity)="onGranularityChange($event)"> </app-dropdown-granularity>

    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" style="margin-bottom: 12px;">
  
        <ng-container matColumnDef="market" class="make-gold">
          <th mat-header-cell *matHeaderCellDef> Market </th>
          <td mat-cell *matCellDef="let element"> {{element.market}} </td>
        </ng-container>
      
        <ng-container matColumnDef="granularity">
          <th mat-header-cell *matHeaderCellDef> Granularity </th>
          <td mat-cell *matCellDef="let element"> {{element.granularity}} </td>
        </ng-container>
    
        <ng-container matColumnDef="fromDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header > StartDate </th>
            <td mat-cell *matCellDef="let element"> {{element.fromDate | date:"dd-MM-yyyy HH:mm:ss" }} </td>
        </ng-container>
    
        <ng-container matColumnDef="toDate">
            <th mat-header-cell *matHeaderCellDef > EndDate </th>
            <td mat-cell *matCellDef="let element"> {{element.toDate | date:"dd-MM-yyyy HH:mm:ss" }} </td>
        </ng-container>
    
        <ng-container matColumnDef="bidOpen">
            <th mat-header-cell *matHeaderCellDef > Bid Open </th>
            <td mat-cell *matCellDef="let element"> {{element.bidOpen |  number : '1.0-4'}} </td>
        </ng-container>

        <ng-container matColumnDef="bidHigh">
            <th mat-header-cell *matHeaderCellDef > Bid High </th>
            <td mat-cell *matCellDef="let element"> {{element.bidHigh | number : '1.0-4'}} </td>
        </ng-container>

        <ng-container matColumnDef="bidLow">
            <th mat-header-cell *matHeaderCellDef > Bid Low </th>
            <td mat-cell *matCellDef="let element"> {{element.bidLow | number : '1.0-4'}} </td>
        </ng-container>

        <ng-container matColumnDef="bidClose">
            <th mat-header-cell *matHeaderCellDef > Bid Close </th>
            <td mat-cell *matCellDef="let element"> {{element.bidClose | number : '1.0-4'}} </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <!-- <tr mat-row *matRowDef="let element; columns: displayedColumns;"></tr> -->
        <tr mat-row [ngClass]="{gray: even}" *matRowDef="let element; let even = even; columns: displayedColumns;" ></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>

      <!-- <mat-paginator [length]="length"
               [pageSize]="pageSize"
               [pageSizeOptions]="pageSizeOptions"
               (page)="pageEvent = getCandleData($event)">
</mat-paginator> -->




